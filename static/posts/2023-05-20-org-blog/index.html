<html><head><meta charset="utf-8" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><meta content="Justin Good&apos;s personal blog" name="description" /><meta content="Jgood Blog" property="og:title" /><meta content="Justin Good&apos;s personal blog" property="og:description" /><meta content="website" property="og:type" /><meta content="https://jgood.online" property="og:url" /><meta content="https://jgood.online/img/2023-05-28-og-image-robot-steps.png" property="og:image" /><title>Jgood Blog</title><link href="/css/output.css" rel="stylesheet" type="text/css" /><link href="/img/2023-06-03-vaporwave-wigle-favicon.png" rel="icon" /><link href="/css/prism-synthwave-84.css" rel="stylesheet" type="text/css" /><script crossorigin="anonymous" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script><script crossorigin="anonymous" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script async="async" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script></head><body class="container mx-auto bg-grey"><header><nav class="flex flex-row mb-8 justify-end w-full"><a class="text-2xl font-bold mr-2 text-white no-underline grow" href="/"><span class="text-cyan">Justin</span><span class="text-green">Good</span></a><a class="text-xl mr-2" href="/now">now</a><a class="text-xl mr-2" href="/archive">archive</a><a class="text-xl mr-2" href="/rss.xml">feed</a></nav></header><main class="grid grid-cols-4 gap-4"><div class="col-span-4 md:col-span-3"><div><h1 id="digital-homesteading-with-clojure-org">Digital Homesteading with
Clojure + Org</h1>
<h2 id="digital-homestead">Digital Homestead?</h2>
<p><a href="https://jackrusher.com/journal/homesteading.html">Jack
Rusher</a> articulates the concept of digital homesteading – a call for
the crafting of your own online presence, rather than relying solely on
social media platforms. This is advice that resonates with me. I firmly
believe in maintaining control over my content and choosing to
distribute it across social media platforms (or syndicate it) rather
than being solely reliant on them.</p>
<p>There are numerous ready-made static site generators available, and
the smart (and time-valuing) choice would be to use one of them.
However, I have some specific niche needs that aren't met by any
existing generator. This brings me to my digital homesteading project:
building a custom static site generator from scratch.</p>
<h2 id="my-static-site-generator">My Custom Static Site Generator</h2>
<p>This blog post documents creating a personal website and blog
platform. The purpose of this platform is to enable me to write posts
and content in Org Mode and generate a static site using Clojure. It's
not intended to be a generalized platform, but rather a collection of
functions that allow me to publish a static site. You can find the
Github repository <a href="https://Github.com/jgoodhcg/org-blog">here</a>, and I host it
using <a href="https://www.digitalocean.com/community/tutorials/how-to-deploy-a-static-website-to-the-cloud-with-digitalocean-app-platform">Digital
Ocean's app platform</a>.</p>
<h2 id="requirements">Specific Requirements</h2>
<p>My requirements for this project were as follows:</p>
<h3 id="compatibility-with-org-mode">Compatibility with Org-Mode</h3>
<p>Since I primarily use Doom Emacs as my text editor, writing in org
mode is my preferred medium for content creation.</p>
<h3 id="ease-of-styling">Ease of Styling</h3>
<p>I sought to leverage Clojure hiccup and Tailwind for creating HTML
without learning a new template language or an arbitrary theme plugin
system.</p>
<h3 id="efficient-load-times">Efficient Load Times</h3>
<p>A static site with minimal dependencies was essential for efficient
loading times.</p>
<h3 id="flexibility">Flexibility</h3>
<p>I wanted the freedom to add features such as comments or interactive
experiences on my site without having to defy platform conventions.</p>
<h3 id="minimal-overhead">Minimal Overhead</h3>
<p>I aimed to be as close to basic HTML, CSS, and JavaScript as
possible, while still utilizing Clojure, hiccup, tailwind, and org mode.
I also wanted an easy process for deploying and writing, as a low
barrier to content production encourages more frequent writing.</p>
<h3 id="cost-effectiveness">Cost Effectiveness</h3>
<p>A cheap or free hosting solution that wouldn't require scaling
considerations was a must.</p>
<h2 id="other-solutions">Other Blogging Solutions</h2>
<p>Several platforms I tested were interesting but ultimately fell short
of meeting my needs.</p>
<h3 id="cryogen">Cryogen</h3>
<p>Cryogen, a static site generator written in Clojure, served its
purpose well, but I encountered some challenges. Writing in markdown was
less comfortable for me than in Org-Mode, and deployment was somewhat
tedious.</p>
<h3 id="ghost">Ghost</h3>
<p>Ghost's themes were impressive and offered certain conveniences such
as metadata for Twitter previews and Google result displays. However,
the experience with the editor left something to be desired, and I was
hesitant to learn another theme syntax to customize styles.</p>
<h3 id="considerations">Other Considerations</h3>
<p>A few other platforms caught my attention as well:</p>
<ul>
<li><p><strong>Roam Research</strong> as the blog site: While the idea
of using Roam Research was interesting, the fact that it would create a
Single Page Application (SPA) and not a static site raised concerns
about load times. Additionally, setting up a custom domain appeared to
be either difficult or potentially costly.</p></li>
<li><p><strong>org-static-blog</strong>: As the name implies,
org-static-blog does exactly what it promises – it's a simple static
blog generator for Emacs' Org-Mode. However, styling it proved to be an
arduous task, as all the template HTML is embedded within a string in an
Emacs configuration file.</p></li>
</ul>
<h2 id="overview">Project Overview</h2>
<p>I decided to start from scratch. From an empty git repo I added a
directory with some org mode blog posts and a jvm clojure file. From
there I let the REPL guide me. What I ended up with looked like
this:</p>
<pre class="example"><code class="language-">├── css
├── pages
├── posts
├── src
│   └── org_blog
│       ├── common
│       └── pages
└── static
    ├── archive
    ├── css
    │   └── svg
    ├── img
    ├── posts
    │   ├── 2023-04-22-kitchen-sink
    │   └── 2023-05-20-org-blog
    └── resume
</code></pre>
<h3 id="css">css</h3>
<p>Contains one <code class="language-">input.css</code> file with some tailwind `@apply`
statements for things that I can't style directly in the template src
files.</p>
<h3 id="pages">pages</h3>
<p>Contains one off org files for pages that are not blog posts. As of
now, that is just my resume.</p>
<h3 id="posts">posts</h3>
<p>All of the org files representing my blog posts.</p>
<h3 id="src">src</h3>
<p>This is where all of the clojure code exists to build the site. It's
starts with <code class="language-">core.clj</code>. I've organically organized it loosely
into different namespaces. Right now the only directories needed are
<code class="language-">common/</code> and <code class="language-">pages/</code>.</p>
<h3 id="static">static</h3>
<p>This is the directory with the static assets. All of the html, css,
and images are here. I commit images right to the repository. Videos I
will host in an s3 bucket and link out. When the Github repo updates the
digital ocean app pulls in the changes and serves everything in this
directory.</p>
<h2 id="workflow">Workflow</h2>
<p>I'm really happy with my workflow. It starts with opening Doom
Emacs.</p>
<p><img src="./../img/2023-05-26_12-41-doom.png" /></p>
<h3 id="easy-writing">Easy writing</h3>
<p>If I want to just write I open or create an org file in the
<code class="language-">posts/</code> directory and start writing. If I want to save my
progress I can commit and push my changes to the Github repo.</p>
<p><img src="./../img/2023-05-26_12-46-writing.png" /></p>
<h3 id="preview-with-the-repl">Preview with the REPL</h3>
<p>If I want to see what a post looks like I can start a repl and eval
the <code class="language-">org-blog.core</code> namespace. That starts up a development
webserver locally and generates all the static files. It includes a
filewatcher so any changes to source code or the org mode blog posts
trigger a re-generation of the static files.</p>
<p><img src="./../img/2023-05-26_12-48-repl.png" /></p>
<p>I can then go to <code class="language-">localhost:8080</code> and see the post I'm
working on.</p>
<p><img src="./../img/2023-05-26_12-52-preview.png" /></p>
<h3 id="custom-pages">Custom pages</h3>
<p>Not everything I want to make is an Org-Mode based blog post. For one
off pages I make a clojure namespace that uses hiccup to generate an
html page. All of the reusable components of the site are clojure
functions that generate hiccup. Building up a page is functional and
almost <em>React</em> like.</p>
<p>Here is the home page generation function.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode clojure"><code class="language-clojure"><span id="cb2-1"><a aria-hidden="true" href="#cb2-1" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> gen </span>[]</span>
<span id="cb2-2"><a aria-hidden="true" href="#cb2-2" tabindex="-1"></a>  (<span class="kw">-&gt;</span> <span class="st">&quot;Generating home (index) page&quot;</span> c/blue <span class="kw">println</span>)</span>
<span id="cb2-3"><a aria-hidden="true" href="#cb2-3" tabindex="-1"></a>  (<span class="kw">-&gt;</span> [<span class="at">:html</span> {<span class="at">:lang</span> <span class="st">&quot;en&quot;</span>} <span class="co">; Add language attribute</span></span>
<span id="cb2-4"><a aria-hidden="true" href="#cb2-4" tabindex="-1"></a>       (comps/head)</span>
<span id="cb2-5"><a aria-hidden="true" href="#cb2-5" tabindex="-1"></a>       (comps/body</span>
<span id="cb2-6"><a aria-hidden="true" href="#cb2-6" tabindex="-1"></a>        [<span class="at">:header</span></span>
<span id="cb2-7"><a aria-hidden="true" href="#cb2-7" tabindex="-1"></a>         (comps/nav)]</span>
<span id="cb2-8"><a aria-hidden="true" href="#cb2-8" tabindex="-1"></a>        [<span class="at">:main</span></span>
<span id="cb2-9"><a aria-hidden="true" href="#cb2-9" tabindex="-1"></a>         [<span class="at">:div.lcars-bottom-border.lcars-border-purple.pl-8.md:pl-40</span></span>
<span id="cb2-10"><a aria-hidden="true" href="#cb2-10" tabindex="-1"></a>          [<span class="at">:div.p-4.w-full.rounded-tl-lg.bg-black</span></span>
<span id="cb2-11"><a aria-hidden="true" href="#cb2-11" tabindex="-1"></a>           [<span class="at">:h1</span> <span class="st">&quot;Things I've got going on&quot;</span>]</span>
<span id="cb2-12"><a aria-hidden="true" href="#cb2-12" tabindex="-1"></a>           [<span class="at">:p</span> <span class="st">&quot;More stuff maybe&quot;</span>]</span>
<span id="cb2-13"><a aria-hidden="true" href="#cb2-13" tabindex="-1"></a>           [<span class="at">:h2</span> <span class="st">&quot;Recent writing&quot;</span>]</span>
<span id="cb2-14"><a aria-hidden="true" href="#cb2-14" tabindex="-1"></a>           [<span class="at">:ul.grid.md:grid-cols-2.lg:grid-cols-4</span></span>
<span id="cb2-15"><a aria-hidden="true" href="#cb2-15" tabindex="-1"></a>            (<span class="kw">-&gt;&gt;</span> posts-org-dir</span>
<span id="cb2-16"><a aria-hidden="true" href="#cb2-16" tabindex="-1"></a>                 io/file</span>
<span id="cb2-17"><a aria-hidden="true" href="#cb2-17" tabindex="-1"></a>                 <span class="kw">file-seq</span></span>
<span id="cb2-18"><a aria-hidden="true" href="#cb2-18" tabindex="-1"></a>                 (<span class="kw">filter</span> #(<span class="kw">re-matches</span> <span class="ss">#&quot;.*\.org&quot;</span> (.getName <span class="va">%</span>)))</span>
<span id="cb2-19"><a aria-hidden="true" href="#cb2-19" tabindex="-1"></a>                 (<span class="kw">sort</span>)</span>
<span id="cb2-20"><a aria-hidden="true" href="#cb2-20" tabindex="-1"></a>                 (<span class="kw">reverse</span>)</span>
<span id="cb2-21"><a aria-hidden="true" href="#cb2-21" tabindex="-1"></a>                 (<span class="kw">take</span> <span class="dv">5</span>)</span>
<span id="cb2-22"><a aria-hidden="true" href="#cb2-22" tabindex="-1"></a>                 (<span class="kw">map</span> #(<span class="kw">str</span> (.getCanonicalPath <span class="va">%</span>)))</span>
<span id="cb2-23"><a aria-hidden="true" href="#cb2-23" tabindex="-1"></a>                 (<span class="kw">map</span> (<span class="kw">fn</span> [org-file]</span>
<span id="cb2-24"><a aria-hidden="true" href="#cb2-24" tabindex="-1"></a>                        (<span class="kw">let</span> [post-name (posts/get-org-file-name org-file)]</span>
<span id="cb2-25"><a aria-hidden="true" href="#cb2-25" tabindex="-1"></a>                          [<span class="at">:a</span> {<span class="at">:href</span> (<span class="kw">str</span> <span class="st">&quot;/posts/&quot;</span> post-name)} post-name]))))]]]])]</span>
<span id="cb2-26"><a aria-hidden="true" href="#cb2-26" tabindex="-1"></a>      html</span>
<span id="cb2-27"><a aria-hidden="true" href="#cb2-27" tabindex="-1"></a>      (<span class="kw">-&gt;&gt;</span> (spit-with-path <span class="st">&quot;./static/index.html&quot;</span>))))</span></code></pre></div>
<p>It's essentially one thread <code class="language-">-&gt;</code> macro. It pushes some
hiccup with embedded function calls that generate other hiccup
<em>components</em>. The hiccup is turned into <code class="language-">html</code> then
<code class="language-">spit</code> into a file in the <code class="language-">static/</code> directory. It
feels <em>right</em> to have the templating language (hiccup) be so
<em>close</em> to the programming language.</p>
<p>In this example I'm grabbing a directory on the file system and
finding the latest 5 blog posts to generate a link on the home page.
It's just right inline with the templating of the html. There are no
`{{%!?? whatever ??!%}}` escape hatches. This is just plain clojure
code.</p>
<p>✨ <em>The templating and the language are one</em> ✨.</p>
<h3 id="deployment">Deployment</h3>
<p>When I'm ready to deploy I just need to commit the changes in
<code class="language-">static/</code>.</p>
<p><img src="./../img/2023-05-26_13-09-deploy.png" /></p>
<h2 id="code">Code</h2>
<p>There are some areas of the codebase that I think are rather
interesting.</p>
<h3 id="dev-webserver">Dev webserver</h3>
<p>To be able to develop locally the project needed a dev webserver.
That exists in <code class="language-">org-blog.dev-server</code> namespace. It uses
<code class="language-">org.httpkit.server</code>. The heart of it is just a simple
handler function that does a little something different per content
type.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode clojure"><code class="language-clojure"><span id="cb3-1"><a aria-hidden="true" href="#cb3-1" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> handler </span>[req]</span>
<span id="cb3-2"><a aria-hidden="true" href="#cb3-2" tabindex="-1"></a>  (<span class="kw">let</span> [resource-path (<span class="kw">str</span> <span class="st">&quot;static&quot;</span> (<span class="at">:uri</span> req))</span>
<span id="cb3-3"><a aria-hidden="true" href="#cb3-3" tabindex="-1"></a>        file (io/file resource-path)</span>
<span id="cb3-4"><a aria-hidden="true" href="#cb3-4" tabindex="-1"></a>        ext  (<span class="kw">-&gt;&gt;</span> (split resource-path <span class="ss">#&quot;\.&quot;</span>)</span>
<span id="cb3-5"><a aria-hidden="true" href="#cb3-5" tabindex="-1"></a>                  <span class="kw">last</span>)]</span>
<span id="cb3-6"><a aria-hidden="true" href="#cb3-6" tabindex="-1"></a>    (<span class="kw">if</span> (.exists file)</span>
<span id="cb3-7"><a aria-hidden="true" href="#cb3-7" tabindex="-1"></a>      (<span class="kw">if</span> (.isDirectory file)</span>
<span id="cb3-8"><a aria-hidden="true" href="#cb3-8" tabindex="-1"></a>        {<span class="at">:status</span>  <span class="dv">200</span></span>
<span id="cb3-9"><a aria-hidden="true" href="#cb3-9" tabindex="-1"></a>         <span class="at">:headers</span> {<span class="st">&quot;Content-Type&quot;</span> <span class="st">&quot;text/html&quot;</span>}</span>
<span id="cb3-10"><a aria-hidden="true" href="#cb3-10" tabindex="-1"></a>         <span class="at">:body</span>    (<span class="kw">slurp</span> (io/file (<span class="kw">str</span> resource-path <span class="st">&quot;/index.html&quot;</span>)))}</span>
<span id="cb3-11"><a aria-hidden="true" href="#cb3-11" tabindex="-1"></a>        {<span class="at">:status</span>  <span class="dv">200</span></span>
<span id="cb3-12"><a aria-hidden="true" href="#cb3-12" tabindex="-1"></a>         <span class="at">:headers</span> {<span class="st">&quot;Content-Type&quot;</span> (content-type-for resource-path)}</span>
<span id="cb3-13"><a aria-hidden="true" href="#cb3-13" tabindex="-1"></a>         <span class="at">:body</span>    (<span class="kw">if</span> (#{<span class="st">&quot;jpg&quot;</span> <span class="st">&quot;png&quot;</span> <span class="st">&quot;gif&quot;</span>} ext)</span>
<span id="cb3-14"><a aria-hidden="true" href="#cb3-14" tabindex="-1"></a>                    (io/input-stream file)</span>
<span id="cb3-15"><a aria-hidden="true" href="#cb3-15" tabindex="-1"></a>                    (<span class="kw">slurp</span> file))})</span>
<span id="cb3-16"><a aria-hidden="true" href="#cb3-16" tabindex="-1"></a>      {<span class="at">:status</span>  <span class="dv">404</span></span>
<span id="cb3-17"><a aria-hidden="true" href="#cb3-17" tabindex="-1"></a>       <span class="at">:headers</span> {<span class="st">&quot;Content-Type&quot;</span> <span class="st">&quot;text/plain&quot;</span>}</span>
<span id="cb3-18"><a aria-hidden="true" href="#cb3-18" tabindex="-1"></a>       <span class="at">:body</span>    <span class="st">&quot;Not Found&quot;</span>})))</span></code></pre></div>
<h3 id="file-watcher">File watcher</h3>
<p>What makes developing the site super easy is that it automatically
re-generates static files, and reloads the repl, on any file save. In
<code class="language-">org-blog.core</code> namespace are a few lines of code that make
this possible. This is all built on top of the <a href="https://github.com/wkf/hawk">hawk library</a>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode clojure"><code class="language-clojure"><span id="cb4-1"><a aria-hidden="true" href="#cb4-1" tabindex="-1"></a><span class="co">;; These lines are in `org-blog.dev-server`</span></span>
<span id="cb4-2"><a aria-hidden="true" href="#cb4-2" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> watch-source-files </span>[dirs handler]</span>
<span id="cb4-3"><a aria-hidden="true" href="#cb4-3" tabindex="-1"></a>  (hawk/watch! [{<span class="at">:paths</span>   dirs</span>
<span id="cb4-4"><a aria-hidden="true" href="#cb4-4" tabindex="-1"></a>                 <span class="at">:handler</span> handler}]))</span>
<span id="cb4-5"><a aria-hidden="true" href="#cb4-5" tabindex="-1"></a></span>
<span id="cb4-6"><a aria-hidden="true" href="#cb4-6" tabindex="-1"></a>(<span class="bu">defonce</span><span class="fu"> source-watchers </span>(<span class="kw">atom</span> <span class="va">nil</span>))</span>
<span id="cb4-7"><a aria-hidden="true" href="#cb4-7" tabindex="-1"></a></span>
<span id="cb4-8"><a aria-hidden="true" href="#cb4-8" tabindex="-1"></a><span class="co">;; These lines are in `org-blog.core`</span></span>
<span id="cb4-9"><a aria-hidden="true" href="#cb4-9" tabindex="-1"></a>(<span class="kw">when</span> (<span class="kw">nil?</span> <span class="at">@dev-server/source-watchers</span>)</span>
<span id="cb4-10"><a aria-hidden="true" href="#cb4-10" tabindex="-1"></a>  (<span class="kw">reset!</span> dev-server/source-watchers</span>
<span id="cb4-11"><a aria-hidden="true" href="#cb4-11" tabindex="-1"></a>          (dev-server/watch-source-files</span>
<span id="cb4-12"><a aria-hidden="true" href="#cb4-12" tabindex="-1"></a>           [<span class="st">&quot;src&quot;</span> <span class="st">&quot;posts&quot;</span> <span class="st">&quot;pages&quot;</span>]</span>
<span id="cb4-13"><a aria-hidden="true" href="#cb4-13" tabindex="-1"></a>           (<span class="kw">fn</span> [ctx <span class="kw">e</span>]</span>
<span id="cb4-14"><a aria-hidden="true" href="#cb4-14" tabindex="-1"></a>             (<span class="kw">when</span> (<span class="kw">=</span> (<span class="at">:kind</span> <span class="kw">e</span>) <span class="at">:modify</span>)</span>
<span id="cb4-15"><a aria-hidden="true" href="#cb4-15" tabindex="-1"></a>               (<span class="kw">println</span> <span class="st">&quot;File modified:&quot;</span> (<span class="at">:file</span> <span class="kw">e</span>))</span>
<span id="cb4-16"><a aria-hidden="true" href="#cb4-16" tabindex="-1"></a>               <span class="co">;; Calling `ns-repl/refresh` in another thread (hawk must run this handler in a another thread)</span></span>
<span id="cb4-17"><a aria-hidden="true" href="#cb4-17" tabindex="-1"></a>               <span class="co">;; generates an error</span></span>
<span id="cb4-18"><a aria-hidden="true" href="#cb4-18" tabindex="-1"></a>               <span class="co">;; By wrapping in future, by some magic, the function calls within are scheduled on the main thread I guess</span></span>
<span id="cb4-19"><a aria-hidden="true" href="#cb4-19" tabindex="-1"></a>               (<span class="kw">future</span></span>
<span id="cb4-20"><a aria-hidden="true" href="#cb4-20" tabindex="-1"></a>                 (<span class="kw">try</span></span>
<span id="cb4-21"><a aria-hidden="true" href="#cb4-21" tabindex="-1"></a>                   (<span class="kw">println</span> <span class="st">&quot;Refreshing repl ...&quot;</span>)</span>
<span id="cb4-22"><a aria-hidden="true" href="#cb4-22" tabindex="-1"></a>                   (ns-repl/refresh)</span>
<span id="cb4-23"><a aria-hidden="true" href="#cb4-23" tabindex="-1"></a>                   (<span class="kw">println</span> <span class="st">&quot;Ahhhh, so refreshed!&quot;</span>)</span>
<span id="cb4-24"><a aria-hidden="true" href="#cb4-24" tabindex="-1"></a>                   (regenerate-site)</span>
<span id="cb4-25"><a aria-hidden="true" href="#cb4-25" tabindex="-1"></a>                   (<span class="kw">catch</span> Exception <span class="kw">e</span></span>
<span id="cb4-26"><a aria-hidden="true" href="#cb4-26" tabindex="-1"></a>                     (<span class="kw">when-not</span> (<span class="kw">and</span> (<span class="kw">instance?</span> IllegalStateException <span class="kw">e</span>)</span>
<span id="cb4-27"><a aria-hidden="true" href="#cb4-27" tabindex="-1"></a>                                    <span class="co">;; Not sure why this error happens but the repl refreshes when it's thrown so I guess it doesn't matter</span></span>
<span id="cb4-28"><a aria-hidden="true" href="#cb4-28" tabindex="-1"></a>                                    (.contains (.getMessage <span class="kw">e</span>) <span class="st">&quot;Can't change/establish root binding of: *ns* with set&quot;</span>))</span>
<span id="cb4-29"><a aria-hidden="true" href="#cb4-29" tabindex="-1"></a>                       (<span class="kw">println</span> <span class="st">&quot;Error refreshing repl:&quot;</span> <span class="kw">e</span>))))))))))</span></code></pre></div>
<h3 id="converting-org-mode-files-with-pandoc">Converting Org-Mode Files
with Pandoc</h3>
<p>In <code class="language-">org-blog.common.org</code> is the actual conversion of
Org-Mode content to html. It relies on <a href="https://pandoc.org/">pandoc</a> and basically shells out to that
system dependency. I use some basic templates to isolate the body and
the table of contents (toc) and return a vector of the html toc and the
html body.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode clojure"><code class="language-clojure"><span id="cb5-1"><a aria-hidden="true" href="#cb5-1" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> org-&gt;html</span></span>
<span id="cb5-2"><a aria-hidden="true" href="#cb5-2" tabindex="-1"></a>  <span class="st">&quot;Requires at least pandoc 3.1.2 installed locally&quot;</span></span>
<span id="cb5-3"><a aria-hidden="true" href="#cb5-3" tabindex="-1"></a>  [org-file]</span>
<span id="cb5-4"><a aria-hidden="true" href="#cb5-4" tabindex="-1"></a></span>
<span id="cb5-5"><a aria-hidden="true" href="#cb5-5" tabindex="-1"></a>  (<span class="kw">let</span> [absolute-org-file  (full-path org-file)</span>
<span id="cb5-6"><a aria-hidden="true" href="#cb5-6" tabindex="-1"></a>        toc-template-path  (full-path <span class="st">&quot;./src/org_blog/pandoc-template-toc.html&quot;</span>)</span>
<span id="cb5-7"><a aria-hidden="true" href="#cb5-7" tabindex="-1"></a>        body-template-path (full-path <span class="st">&quot;./src/org_blog/pandoc-template-body.html&quot;</span>)</span>
<span id="cb5-8"><a aria-hidden="true" href="#cb5-8" tabindex="-1"></a>        toc-cmd            (<span class="kw">str</span> <span class="st">&quot;pandoc -f org -t html &quot;</span></span>
<span id="cb5-9"><a aria-hidden="true" href="#cb5-9" tabindex="-1"></a>                                    <span class="st">&quot;--template=&quot;</span> toc-template-path <span class="st">&quot; &quot;</span></span>
<span id="cb5-10"><a aria-hidden="true" href="#cb5-10" tabindex="-1"></a>                                    <span class="st">&quot;--table-of-contents &quot;</span> absolute-org-file)</span>
<span id="cb5-11"><a aria-hidden="true" href="#cb5-11" tabindex="-1"></a>        body-cmd           (<span class="kw">str</span> <span class="st">&quot;pandoc -f org -t html &quot;</span></span>
<span id="cb5-12"><a aria-hidden="true" href="#cb5-12" tabindex="-1"></a>                                <span class="st">&quot;--template=&quot;</span> body-template-path <span class="st">&quot; &quot;</span></span>
<span id="cb5-13"><a aria-hidden="true" href="#cb5-13" tabindex="-1"></a>                                absolute-org-file)</span>
<span id="cb5-14"><a aria-hidden="true" href="#cb5-14" tabindex="-1"></a>        toc-result         (shell/sh <span class="st">&quot;sh&quot;</span> <span class="st">&quot;-c&quot;</span> toc-cmd)</span>
<span id="cb5-15"><a aria-hidden="true" href="#cb5-15" tabindex="-1"></a>        body-result        (shell/sh <span class="st">&quot;sh&quot;</span> <span class="st">&quot;-c&quot;</span> body-cmd)]</span>
<span id="cb5-16"><a aria-hidden="true" href="#cb5-16" tabindex="-1"></a>    (<span class="kw">if</span> (<span class="kw">and</span> (<span class="kw">zero?</span> (<span class="at">:exit</span> toc-result))</span>
<span id="cb5-17"><a aria-hidden="true" href="#cb5-17" tabindex="-1"></a>             (<span class="kw">zero?</span> (<span class="at">:exit</span> body-result)))</span>
<span id="cb5-18"><a aria-hidden="true" href="#cb5-18" tabindex="-1"></a>      [(<span class="at">:out</span> toc-result)</span>
<span id="cb5-19"><a aria-hidden="true" href="#cb5-19" tabindex="-1"></a>       (<span class="at">:out</span> body-result)]</span>
<span id="cb5-20"><a aria-hidden="true" href="#cb5-20" tabindex="-1"></a>      (<span class="kw">do</span> (<span class="kw">println</span> (<span class="kw">str</span> <span class="st">&quot;Error(s):&quot;</span> [(<span class="at">:error</span> toc-result) (<span class="at">:error</span> body-result)]))</span>
<span id="cb5-21"><a aria-hidden="true" href="#cb5-21" tabindex="-1"></a>          <span class="va">nil</span>))))</span></code></pre></div>
<h2 id="design">Design Choices</h2>
<p>I leaned heavily on chatgpt to get somewhere with the UI design. I
knew I wanted to draw inspiration from LCARS Star Trek interface design.
I didn't use anything from the <a href="https://www.thelcars.com/">LCARS
Online Template</a> but I did look at it for awhile to figure out what I
wanted.</p>
<p>The color scheme was entirely generated from chatgpt. I asked for a
<em>Vaporwave</em> color palette and plugged it into <a href="https://palettte.app/">palettte.app</a> (three T's) to make some
different shades. Chatgpt was useful for converting the export of
Palettte to the config of TailwindCSs.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="language-javascript"><span id="cb6-1"><a aria-hidden="true" href="#cb6-1" tabindex="-1"></a>theme<span class="op">:</span> {</span>
<span id="cb6-2"><a aria-hidden="true" href="#cb6-2" tabindex="-1"></a>  <span class="dt">colors</span><span class="op">:</span> {</span>
<span id="cb6-3"><a aria-hidden="true" href="#cb6-3" tabindex="-1"></a>    <span class="dt">transparent</span><span class="op">:</span> <span class="st">'transparent'</span><span class="op">,</span></span>
<span id="cb6-4"><a aria-hidden="true" href="#cb6-4" tabindex="-1"></a>    <span class="dt">current</span><span class="op">:</span> <span class="st">'currentColor'</span><span class="op">,</span></span>
<span id="cb6-5"><a aria-hidden="true" href="#cb6-5" tabindex="-1"></a>    <span class="dt">black</span><span class="op">:</span> <span class="st">'#000000'</span><span class="op">,</span></span>
<span id="cb6-6"><a aria-hidden="true" href="#cb6-6" tabindex="-1"></a>    <span class="dt">white</span><span class="op">:</span> <span class="st">'#ffffff'</span><span class="op">,</span></span>
<span id="cb6-7"><a aria-hidden="true" href="#cb6-7" tabindex="-1"></a>    <span class="dt">yellow</span><span class="op">:</span> {</span>
<span id="cb6-8"><a aria-hidden="true" href="#cb6-8" tabindex="-1"></a>      <span class="dv">100</span><span class="op">:</span> <span class="st">&quot;#FDCF70&quot;</span><span class="op">,</span></span>
<span id="cb6-9"><a aria-hidden="true" href="#cb6-9" tabindex="-1"></a>      <span class="dv">200</span><span class="op">:</span> <span class="st">&quot;#F9BF46&quot;</span><span class="op">,</span></span>
<span id="cb6-10"><a aria-hidden="true" href="#cb6-10" tabindex="-1"></a>      <span class="dt">DEFAULT</span><span class="op">:</span> <span class="st">&quot;#EDAD28&quot;</span><span class="op">,</span></span>
<span id="cb6-11"><a aria-hidden="true" href="#cb6-11" tabindex="-1"></a>      <span class="dv">400</span><span class="op">:</span> <span class="st">&quot;#B8820F&quot;</span><span class="op">,</span></span>
<span id="cb6-12"><a aria-hidden="true" href="#cb6-12" tabindex="-1"></a>      <span class="dv">900</span><span class="op">:</span> <span class="st">&quot;#865B00&quot;</span><span class="op">,</span></span>
<span id="cb6-13"><a aria-hidden="true" href="#cb6-13" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb6-14"><a aria-hidden="true" href="#cb6-14" tabindex="-1"></a>    <span class="dt">pink</span><span class="op">:</span> {</span>
<span id="cb6-15"><a aria-hidden="true" href="#cb6-15" tabindex="-1"></a>      <span class="dv">100</span><span class="op">:</span> <span class="st">'#FF88D1'</span><span class="op">,</span></span>
<span id="cb6-16"><a aria-hidden="true" href="#cb6-16" tabindex="-1"></a>      <span class="dt">DEFAULT</span><span class="op">:</span> <span class="st">'#FF71CE'</span><span class="op">,</span></span>
<span id="cb6-17"><a aria-hidden="true" href="#cb6-17" tabindex="-1"></a>      <span class="dv">900</span><span class="op">:</span> <span class="st">'#E064B7'</span><span class="op">,</span></span>
<span id="cb6-18"><a aria-hidden="true" href="#cb6-18" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb6-19"><a aria-hidden="true" href="#cb6-19" tabindex="-1"></a>    <span class="dt">cyan</span><span class="op">:</span> {</span>
<span id="cb6-20"><a aria-hidden="true" href="#cb6-20" tabindex="-1"></a>      <span class="dv">100</span><span class="op">:</span> <span class="st">'#33E1FD'</span><span class="op">,</span></span>
<span id="cb6-21"><a aria-hidden="true" href="#cb6-21" tabindex="-1"></a>      <span class="dt">DEFAULT</span><span class="op">:</span> <span class="st">'#01CDFE'</span><span class="op">,</span></span>
<span id="cb6-22"><a aria-hidden="true" href="#cb6-22" tabindex="-1"></a>      <span class="dv">900</span><span class="op">:</span> <span class="st">'#01B2D6'</span><span class="op">,</span></span>
<span id="cb6-23"><a aria-hidden="true" href="#cb6-23" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb6-24"><a aria-hidden="true" href="#cb6-24" tabindex="-1"></a>    <span class="dt">green</span><span class="op">:</span> {</span>
<span id="cb6-25"><a aria-hidden="true" href="#cb6-25" tabindex="-1"></a>      <span class="dv">100</span><span class="op">:</span> <span class="st">'#30FFB3'</span><span class="op">,</span></span>
<span id="cb6-26"><a aria-hidden="true" href="#cb6-26" tabindex="-1"></a>      <span class="dt">DEFAULT</span><span class="op">:</span> <span class="st">'#05FFA1'</span><span class="op">,</span></span>
<span id="cb6-27"><a aria-hidden="true" href="#cb6-27" tabindex="-1"></a>      <span class="dv">900</span><span class="op">:</span> <span class="st">'#05D68E'</span><span class="op">,</span></span>
<span id="cb6-28"><a aria-hidden="true" href="#cb6-28" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb6-29"><a aria-hidden="true" href="#cb6-29" tabindex="-1"></a>    <span class="dt">purple</span><span class="op">:</span> {</span>
<span id="cb6-30"><a aria-hidden="true" href="#cb6-30" tabindex="-1"></a>      <span class="dv">100</span><span class="op">:</span> <span class="st">'#CA7FFF'</span><span class="op">,</span></span>
<span id="cb6-31"><a aria-hidden="true" href="#cb6-31" tabindex="-1"></a>      <span class="dt">DEFAULT</span><span class="op">:</span> <span class="st">'#B967FF'</span><span class="op">,</span></span>
<span id="cb6-32"><a aria-hidden="true" href="#cb6-32" tabindex="-1"></a>      <span class="dv">900</span><span class="op">:</span> <span class="st">'#A355E2'</span><span class="op">,</span></span>
<span id="cb6-33"><a aria-hidden="true" href="#cb6-33" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb6-34"><a aria-hidden="true" href="#cb6-34" tabindex="-1"></a>    <span class="dt">red</span><span class="op">:</span> {</span>
<span id="cb6-35"><a aria-hidden="true" href="#cb6-35" tabindex="-1"></a>      <span class="dv">100</span><span class="op">:</span> <span class="st">'#FF8B8B'</span><span class="op">,</span></span>
<span id="cb6-36"><a aria-hidden="true" href="#cb6-36" tabindex="-1"></a>      <span class="dt">DEFAULT</span><span class="op">:</span> <span class="st">'#FF6B6B'</span><span class="op">,</span></span>
<span id="cb6-37"><a aria-hidden="true" href="#cb6-37" tabindex="-1"></a>      <span class="dv">900</span><span class="op">:</span> <span class="st">'#E25B5B'</span><span class="op">,</span></span>
<span id="cb6-38"><a aria-hidden="true" href="#cb6-38" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb6-39"><a aria-hidden="true" href="#cb6-39" tabindex="-1"></a>  }<span class="op">,</span></span></code></pre></div>
<p>With that custom theme in place styling with Tailwind is really
<em>easy</em>. Here is the code that creates the top section of the
LCARS border and side panel.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode clojure"><code class="language-clojure"><span id="cb7-1"><a aria-hidden="true" href="#cb7-1" tabindex="-1"></a>[<span class="at">:div.lcars-top-border.lcars-border-green.pl-8.md:pl-40</span></span>
<span id="cb7-2"><a aria-hidden="true" href="#cb7-2" tabindex="-1"></a>   [<span class="at">:div.p-4.rounded-bl-lg.bg-black</span></span>
<span id="cb7-3"><a aria-hidden="true" href="#cb7-3" tabindex="-1"></a>    [<span class="at">:div.text-4xl.font-bold.mb-2.bg-clip-text.text-transparent.bg-gradient-to-b.from-green-100.to-cyan-100</span></span>
<span id="cb7-4"><a aria-hidden="true" href="#cb7-4" tabindex="-1"></a>     <span class="st">&quot;JGood Blog&quot;</span>]</span>
<span id="cb7-5"><a aria-hidden="true" href="#cb7-5" tabindex="-1"></a>    <span class="co">;; ...</span></span>
<span id="cb7-6"><a aria-hidden="true" href="#cb7-6" tabindex="-1"></a>    ]]</span></code></pre></div>
<p>There are some style defined in the css file. Includin a pseudo
element to create a &quot;break up&quot; effect on the long thin horizontal part
of the border.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode css"><code class="language-css"><span id="cb8-1"><a aria-hidden="true" href="#cb8-1" tabindex="-1"></a><span class="co">/* LCARS-inspired styling */</span></span>
<span id="cb8-2"><a aria-hidden="true" href="#cb8-2" tabindex="-1"></a><span class="fu">.lcars-top-border</span> {</span>
<span id="cb8-3"><a aria-hidden="true" href="#cb8-3" tabindex="-1"></a>  <span class="im">@apply</span> bg-gradient-to-b pb-1<span class="op">;</span></span>
<span id="cb8-4"><a aria-hidden="true" href="#cb8-4" tabindex="-1"></a>  <span class="kw">position</span>: <span class="dv">relative</span><span class="op">;</span></span>
<span id="cb8-5"><a aria-hidden="true" href="#cb8-5" tabindex="-1"></a>  <span class="kw">border-bottom-left-radius</span>: <span class="dv">2</span><span class="dt">rem</span><span class="op">;</span></span>
<span id="cb8-6"><a aria-hidden="true" href="#cb8-6" tabindex="-1"></a>}</span>
<span id="cb8-7"><a aria-hidden="true" href="#cb8-7" tabindex="-1"></a></span>
<span id="cb8-8"><a aria-hidden="true" href="#cb8-8" tabindex="-1"></a><span class="im">@media</span> <span class="dv">screen</span> <span class="kw">and</span> (<span class="kw">min-width</span>: <span class="dv">768</span><span class="dt">px</span>) {</span>
<span id="cb8-9"><a aria-hidden="true" href="#cb8-9" tabindex="-1"></a>  <span class="fu">.lcars-top-border</span> {</span>
<span id="cb8-10"><a aria-hidden="true" href="#cb8-10" tabindex="-1"></a>    <span class="kw">border-bottom-left-radius</span>: <span class="dv">5</span><span class="dt">rem</span><span class="op">;</span></span>
<span id="cb8-11"><a aria-hidden="true" href="#cb8-11" tabindex="-1"></a>  }</span>
<span id="cb8-12"><a aria-hidden="true" href="#cb8-12" tabindex="-1"></a>}</span>
<span id="cb8-13"><a aria-hidden="true" href="#cb8-13" tabindex="-1"></a></span>
<span id="cb8-14"><a aria-hidden="true" href="#cb8-14" tabindex="-1"></a><span class="fu">.lcars-top-border</span><span class="in">::before</span> {</span>
<span id="cb8-15"><a aria-hidden="true" href="#cb8-15" tabindex="-1"></a>  <span class="im">@apply</span> h-1<span class="op">;</span></span>
<span id="cb8-16"><a aria-hidden="true" href="#cb8-16" tabindex="-1"></a>  <span class="kw">content</span>: <span class="st">&quot;&quot;</span><span class="op">;</span></span>
<span id="cb8-17"><a aria-hidden="true" href="#cb8-17" tabindex="-1"></a>  <span class="kw">position</span>: <span class="dv">absolute</span><span class="op">;</span></span>
<span id="cb8-18"><a aria-hidden="true" href="#cb8-18" tabindex="-1"></a>  <span class="kw">bottom</span>: <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-19"><a aria-hidden="true" href="#cb8-19" tabindex="-1"></a>  <span class="kw">left</span>: <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-20"><a aria-hidden="true" href="#cb8-20" tabindex="-1"></a>  <span class="kw">width</span>: <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb8-21"><a aria-hidden="true" href="#cb8-21" tabindex="-1"></a>  <span class="kw">background-image</span>: <span class="fu">linear-gradient(</span>to <span class="dv">right</span><span class="op">,</span></span>
<span id="cb8-22"><a aria-hidden="true" href="#cb8-22" tabindex="-1"></a>                                  <span class="dv">transparent</span> <span class="dv">0</span><span class="dt">%</span><span class="op">,</span> <span class="dv">transparent</span> <span class="dv">25</span><span class="dt">%</span><span class="op">,</span></span>
<span id="cb8-23"><a aria-hidden="true" href="#cb8-23" tabindex="-1"></a>                                  <span class="cn">#B967FF</span> <span class="dv">25</span><span class="dt">%</span><span class="op">,</span> <span class="cn">#B967FF</span> <span class="dv">26</span><span class="dt">%</span><span class="op">,</span></span>
<span id="cb8-24"><a aria-hidden="true" href="#cb8-24" tabindex="-1"></a>                                  <span class="dv">transparent</span> <span class="dv">26</span><span class="dt">%</span><span class="op">,</span> <span class="dv">transparent</span> <span class="dv">28</span><span class="dt">%</span><span class="op">,</span></span>
<span id="cb8-25"><a aria-hidden="true" href="#cb8-25" tabindex="-1"></a>                                  <span class="cn">#000000</span> <span class="dv">28</span><span class="dt">%</span><span class="op">,</span> <span class="cn">#000000</span> <span class="dv">29</span><span class="dt">%</span><span class="op">,</span> <span class="co">/* Black Section */</span></span>
<span id="cb8-26"><a aria-hidden="true" href="#cb8-26" tabindex="-1"></a>                                  <span class="cn">#05FFA1</span> <span class="dv">29</span><span class="dt">%</span><span class="op">,</span> <span class="cn">#05FFA1</span> <span class="dv">30</span><span class="dt">%</span><span class="op">,</span></span>
<span id="cb8-27"><a aria-hidden="true" href="#cb8-27" tabindex="-1"></a>                                  <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.5</span><span class="fu">)</span> <span class="dv">30</span><span class="dt">%</span><span class="op">,</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.5</span><span class="fu">)</span> <span class="dv">31</span><span class="dt">%</span><span class="op">,</span> <span class="co">/* Fade to Black Section */</span></span>
<span id="cb8-28"><a aria-hidden="true" href="#cb8-28" tabindex="-1"></a>                                  <span class="cn">#01CDFE</span> <span class="dv">31</span><span class="dt">%</span><span class="op">,</span> <span class="cn">#01CDFE</span> <span class="dv">32</span><span class="dt">%</span><span class="op">,</span></span>
<span id="cb8-29"><a aria-hidden="true" href="#cb8-29" tabindex="-1"></a>                                  <span class="dv">transparent</span> <span class="dv">32</span><span class="dt">%</span><span class="op">,</span> <span class="dv">transparent</span> <span class="dv">37</span><span class="dt">%</span><span class="op">,</span></span>
<span id="cb8-30"><a aria-hidden="true" href="#cb8-30" tabindex="-1"></a>                                  <span class="cn">#B967FF</span> <span class="dv">37</span><span class="dt">%</span><span class="op">,</span> <span class="cn">#B967FF</span> <span class="dv">38</span><span class="dt">%</span><span class="op">,</span></span>
<span id="cb8-31"><a aria-hidden="true" href="#cb8-31" tabindex="-1"></a>                                  <span class="dv">transparent</span> <span class="dv">38</span><span class="dt">%</span><span class="op">,</span> <span class="dv">transparent</span> <span class="dv">40</span><span class="dt">%</span><span class="op">,</span></span>
<span id="cb8-32"><a aria-hidden="true" href="#cb8-32" tabindex="-1"></a>                                  <span class="cn">#000000</span> <span class="dv">40</span><span class="dt">%</span><span class="op">,</span> <span class="cn">#000000</span> <span class="dv">41</span><span class="dt">%</span><span class="op">,</span> <span class="co">/* Black Section */</span></span>
<span id="cb8-33"><a aria-hidden="true" href="#cb8-33" tabindex="-1"></a>                                  <span class="cn">#05FFA1</span> <span class="dv">41</span><span class="dt">%</span><span class="op">,</span> <span class="cn">#05FFA1</span> <span class="dv">42</span><span class="dt">%</span><span class="op">,</span></span>
<span id="cb8-34"><a aria-hidden="true" href="#cb8-34" tabindex="-1"></a>                                  <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.5</span><span class="fu">)</span> <span class="dv">42</span><span class="dt">%</span><span class="op">,</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.5</span><span class="fu">)</span> <span class="dv">43</span><span class="dt">%</span><span class="op">,</span> <span class="co">/* Fade to Black Section */</span></span>
<span id="cb8-35"><a aria-hidden="true" href="#cb8-35" tabindex="-1"></a>                                  <span class="cn">#01CDFE</span> <span class="dv">43</span><span class="dt">%</span><span class="op">,</span> <span class="cn">#01CDFE</span> <span class="dv">44</span><span class="dt">%</span><span class="op">,</span></span>
<span id="cb8-36"><a aria-hidden="true" href="#cb8-36" tabindex="-1"></a>                                  <span class="dv">transparent</span> <span class="dv">44</span><span class="dt">%</span><span class="op">,</span> <span class="dv">transparent</span> <span class="dv">59</span><span class="dt">%</span><span class="op">,</span></span>
<span id="cb8-37"><a aria-hidden="true" href="#cb8-37" tabindex="-1"></a>                                  <span class="cn">#B967FF</span> <span class="dv">59</span><span class="dt">%</span><span class="op">,</span> <span class="cn">#B967FF</span> <span class="dv">60</span><span class="dt">%</span><span class="op">,</span></span>
<span id="cb8-38"><a aria-hidden="true" href="#cb8-38" tabindex="-1"></a>                                  <span class="dv">transparent</span> <span class="dv">60</span><span class="dt">%</span><span class="op">,</span> <span class="dv">transparent</span> <span class="dv">62</span><span class="dt">%</span><span class="op">,</span></span>
<span id="cb8-39"><a aria-hidden="true" href="#cb8-39" tabindex="-1"></a>                                  <span class="cn">#000000</span> <span class="dv">62</span><span class="dt">%</span><span class="op">,</span> <span class="cn">#000000</span> <span class="dv">63</span><span class="dt">%</span><span class="op">,</span> <span class="co">/* Black Section */</span></span>
<span id="cb8-40"><a aria-hidden="true" href="#cb8-40" tabindex="-1"></a>                                  <span class="cn">#05FFA1</span> <span class="dv">63</span><span class="dt">%</span><span class="op">,</span> <span class="cn">#05FFA1</span> <span class="dv">64</span><span class="dt">%</span><span class="op">,</span></span>
<span id="cb8-41"><a aria-hidden="true" href="#cb8-41" tabindex="-1"></a>                                  <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.5</span><span class="fu">)</span> <span class="dv">64</span><span class="dt">%</span><span class="op">,</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.5</span><span class="fu">)</span> <span class="dv">65</span><span class="dt">%</span><span class="op">,</span> <span class="co">/* Fade to Black Section */</span></span>
<span id="cb8-42"><a aria-hidden="true" href="#cb8-42" tabindex="-1"></a>                                  <span class="cn">#01CDFE</span> <span class="dv">65</span><span class="dt">%</span><span class="op">,</span> <span class="cn">#01CDFE</span> <span class="dv">66</span><span class="dt">%</span><span class="op">,</span></span>
<span id="cb8-43"><a aria-hidden="true" href="#cb8-43" tabindex="-1"></a>                                  <span class="dv">transparent</span> <span class="dv">66</span><span class="dt">%</span><span class="op">,</span> <span class="dv">transparent</span> <span class="dv">81</span><span class="dt">%</span><span class="op">,</span></span>
<span id="cb8-44"><a aria-hidden="true" href="#cb8-44" tabindex="-1"></a>                                  <span class="cn">#B967FF</span> <span class="dv">81</span><span class="dt">%</span><span class="op">,</span> <span class="cn">#B967FF</span> <span class="dv">82</span><span class="dt">%</span><span class="op">,</span></span>
<span id="cb8-45"><a aria-hidden="true" href="#cb8-45" tabindex="-1"></a>                                  <span class="dv">transparent</span> <span class="dv">82</span><span class="dt">%</span><span class="op">,</span> <span class="dv">transparent</span> <span class="dv">84</span><span class="dt">%</span><span class="op">,</span></span>
<span id="cb8-46"><a aria-hidden="true" href="#cb8-46" tabindex="-1"></a>                                  <span class="cn">#000000</span> <span class="dv">84</span><span class="dt">%</span><span class="op">,</span> <span class="cn">#000000</span> <span class="dv">85</span><span class="dt">%</span><span class="op">,</span> <span class="co">/* Black Section */</span></span>
<span id="cb8-47"><a aria-hidden="true" href="#cb8-47" tabindex="-1"></a>                                  <span class="cn">#05FFA1</span> <span class="dv">85</span><span class="dt">%</span><span class="op">,</span> <span class="cn">#05FFA1</span> <span class="dv">86</span><span class="dt">%</span><span class="op">,</span></span>
<span id="cb8-48"><a aria-hidden="true" href="#cb8-48" tabindex="-1"></a>                                  <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.5</span><span class="fu">)</span> <span class="dv">86</span><span class="dt">%</span><span class="op">,</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.5</span><span class="fu">)</span> <span class="dv">87</span><span class="dt">%</span><span class="op">,</span> <span class="co">/* Fade to Black Section */</span></span>
<span id="cb8-49"><a aria-hidden="true" href="#cb8-49" tabindex="-1"></a>                                  <span class="cn">#01CDFE</span> <span class="dv">87</span><span class="dt">%</span><span class="op">,</span> <span class="cn">#01CDFE</span> <span class="dv">88</span><span class="dt">%</span><span class="op">,</span></span>
<span id="cb8-50"><a aria-hidden="true" href="#cb8-50" tabindex="-1"></a>                                  <span class="dv">transparent</span> <span class="dv">88</span><span class="dt">%</span><span class="op">,</span> <span class="cn">#000000</span> <span class="dv">100</span><span class="dt">%</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb8-51"><a aria-hidden="true" href="#cb8-51" tabindex="-1"></a>  <span class="kw">background-size</span>: <span class="dv">100</span><span class="dt">%</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb8-52"><a aria-hidden="true" href="#cb8-52" tabindex="-1"></a>}</span></code></pre></div>
<h2 id="images">Handling Images</h2>
<p>I'm using two tools for image generation. <a href="https://flameshot.org/">flameshot</a> is for taking screenshots
and <a href="https://exiftool.org/">exiftool</a> for stripping gps data
from photos.</p>
<p>Images are stored in the <code class="language-">static/img/</code> directory and
committed right to the repo. I don't have any videos yet but I
anticipate putting those in Digital Ocean bucket and linking to them
from there.</p>
<p>I don't do any resizing of images yet. If I notice some issues with
performance I'll think about doing that.</p>
<h2 id="conclusion">/End</h2>
<p>Thanks for reading this. Hope seeing an example of someone
<em>rolling their own</em> static site generator was helpful in some
way!</p>
</div></div><div class="hidden md:block md:h-full"><div class="sticky top-0"><h4>Table of Contents</h4><nav id="table-of-contents">
  <ul>
  <li><a href="#digital-homesteading-with-clojure-org" id="toc-digital-homesteading-with-clojure-org">Digital Homesteading
  with Clojure + Org</a>
  <ul>
  <li><a href="#digital-homestead" id="toc-digital-homestead">Digital
  Homestead?</a></li>
  <li><a href="#my-static-site-generator" id="toc-my-static-site-generator">My Custom Static Site
  Generator</a></li>
  <li><a href="#requirements" id="toc-requirements">Specific
  Requirements</a>
  <ul>
  <li><a href="#compatibility-with-org-mode" id="toc-compatibility-with-org-mode">Compatibility with
  Org-Mode</a></li>
  <li><a href="#ease-of-styling" id="toc-ease-of-styling">Ease of
  Styling</a></li>
  <li><a href="#efficient-load-times" id="toc-efficient-load-times">Efficient Load Times</a></li>
  <li><a href="#flexibility" id="toc-flexibility">Flexibility</a></li>
  <li><a href="#minimal-overhead" id="toc-minimal-overhead">Minimal
  Overhead</a></li>
  <li><a href="#cost-effectiveness" id="toc-cost-effectiveness">Cost
  Effectiveness</a></li>
  </ul></li>
  <li><a href="#other-solutions" id="toc-other-solutions">Other Blogging
  Solutions</a>
  <ul>
  <li><a href="#cryogen" id="toc-cryogen">Cryogen</a></li>
  <li><a href="#ghost" id="toc-ghost">Ghost</a></li>
  <li><a href="#considerations" id="toc-considerations">Other
  Considerations</a></li>
  </ul></li>
  <li><a href="#overview" id="toc-overview">Project Overview</a>
  <ul>
  <li><a href="#css" id="toc-css">css</a></li>
  <li><a href="#pages" id="toc-pages">pages</a></li>
  <li><a href="#posts" id="toc-posts">posts</a></li>
  <li><a href="#src" id="toc-src">src</a></li>
  <li><a href="#static" id="toc-static">static</a></li>
  </ul></li>
  <li><a href="#workflow" id="toc-workflow">Workflow</a>
  <ul>
  <li><a href="#easy-writing" id="toc-easy-writing">Easy
  writing</a></li>
  <li><a href="#preview-with-the-repl" id="toc-preview-with-the-repl">Preview with the REPL</a></li>
  <li><a href="#custom-pages" id="toc-custom-pages">Custom
  pages</a></li>
  <li><a href="#deployment" id="toc-deployment">Deployment</a></li>
  </ul></li>
  <li><a href="#code" id="toc-code">Code</a>
  <ul>
  <li><a href="#dev-webserver" id="toc-dev-webserver">Dev
  webserver</a></li>
  <li><a href="#file-watcher" id="toc-file-watcher">File
  watcher</a></li>
  <li><a href="#converting-org-mode-files-with-pandoc" id="toc-converting-org-mode-files-with-pandoc">Converting Org-Mode
  Files with Pandoc</a></li>
  </ul></li>
  <li><a href="#design" id="toc-design">Design Choices</a></li>
  <li><a href="#images" id="toc-images">Handling Images</a></li>
  <li><a href="#conclusion" id="toc-conclusion">/End</a></li>
  </ul></li>
  </ul>
</nav></div></div></main></body></html>